#!/bin/sh

# Name:
#   sh_touch_zips
#   

# Purpose:
#   

# Example:
#   

# Modifications:
#   

# Algorigthm:
#   

# Dependency:
#   

force=n

while [ "$1" != "" ]; do
  case $1 in
    -force)
      force=$2
      ;;
    *)
      echo "[]ERROR: invalid option ($1)!!"
      exit 1
      ;;
  esac
  shift 2
done

path=`pwd`

path_leading=`echo $path | awk -F\/ '{print substr($2,1,1)}'`
echo path_leading $path_leading
echo "[]INFO: current path is $path"
i=1
while [ $i -le 3 ]; do
  sleep 1
  echo $i | awk '{ printf(".")}'
  i=`expr $i + 1`
done

if [ "$path_leading" != "r" ]; then
  echo "[]INFO: $PROG only supposed to run in USB devices (/run/media/...) "
  echo "[]WARNING: make sure you are working in the correct path!"
  echo "[]INFO: current path $path"
  
  if [ "$force" != "y" ]; then
    exit 1
  fi
fi

while read file; do
  #echo touch `basename $file` | sh
  echo 1 > `basename $file`
  #exit
done < ./zips

du -hs
